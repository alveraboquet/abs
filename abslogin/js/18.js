(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{CebT:function(e,n,t){"use strict";t.r(n),t.d(n,"RegisterModule",function(){return P});var i=t("ofXK"),r=t("tyNb"),o=t("fXoL");let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Gb({type:e,selectors:[["app-otp"]],decls:2,vars:0,template:function(e,n){1&e&&(o.Rb(0,"p"),o.Ec(1,"otp works!"),o.Qb())},styles:[""]}),e})(),s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Gb({type:e,selectors:[["app-register"]],decls:1,vars:0,template:function(e,n){1&e&&o.Nb(0,"router-outlet")},directives:[r.h],styles:[""]}),e})();var a=t("3Pt+"),l=t("McuO"),d=t("mLlc"),b=t("XPT/"),u=t("AytR"),p=t("tk/3");let g=(()=>{class e{constructor(e){this.http=e,this.api=u.a.apiUrl}getCountry(){return this.http.get(this.api+"api/country")}getProvince(e){return this.http.get(this.api+"api/province?country_id="+e)}}return e.\u0275fac=function(n){return new(n||e)(o.Yb(p.b))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=t("sYmb"),h=t("gvZa"),m=t("GUDH"),v=t("obxM");function y(e,n){if(1&e&&(o.Rb(0,"option",39),o.Ec(1),o.Qb()),2&e){const e=n.$implicit,t=o.ec();o.lc("value",e.id),o.zb(1),o.Gc(" ","cn"==t.lang?e.name_cn:e.name," ")}}function _(e,n){if(1&e&&(o.Rb(0,"option",39),o.Ec(1),o.Qb()),2&e){const e=n.$implicit,t=o.ec();o.lc("value",e.id),o.zb(1),o.Gc(" ","cn"==t.lang?e.name_cn:e.name," ")}}function R(e,n){if(1&e){const e=o.Sb();o.Rb(0,"span",40),o.bc("click",function(){return o.wc(e),o.ec().onSendTac()}),o.Ec(1),o.fc(2,"translate"),o.Qb()}2&e&&(o.zb(1),o.Gc(" ",o.gc(2,1,"button.send_code")," "))}function w(e,n){if(1&e&&(o.Rb(0,"span",43),o.Ec(1),o.Qb()),2&e){const e=o.ec(2);o.zb(1),o.Gc("(",e.resend.countdown,")")}}const Q=function(e){return{disabled:e}};function C(e,n){if(1&e){const e=o.Sb();o.Rb(0,"span",41),o.bc("click",function(){return o.wc(e),o.ec().onResendTac()}),o.Ec(1),o.fc(2,"translate"),o.Cc(3,w,2,1,"span",42),o.Qb()}if(2&e){const e=o.ec();o.kc("ngClass",o.pc(5,Q,!e.resend.resending)),o.zb(1),o.Gc(" ",o.gc(2,3,"button.resend")," "),o.zb(2),o.kc("ngIf",!e.resend.resending)}}function k(e,n){1&e&&o.Nb(0,"app-dot-loading")}function x(e,n){if(1&e){const e=o.Sb();o.Rb(0,"button",44),o.bc("click",function(){return o.wc(e),o.ec().signUp()}),o.Ec(1," header.register "),o.Qb()}}const z=function(){return["/login"]},E=function(e){return{disabled:e}},M=function(e,n){return{"icon-icon-02":e,"icon-icon-01":n}},I=[{path:"",component:s,children:[{path:"",component:(()=>{class e{constructor(e,n,t,i){this.mService=e,this.cService=n,this.translate=t,this.route=i,this.isPasswordHide=!0,this.isSecurityHide=!0,this.isHide=!0,this.form=new a.d({country:new a.b(1,a.o.required),province:new a.b(1,a.o.required),username:new a.b("",a.o.required),phone_number:new a.b("",a.o.required),fullname:new a.b("",a.o.required),email:new a.b("",[a.o.required]),invite_code:new a.b("",a.o.required),password:new a.b("",a.o.required),security_pin:new a.b("",a.o.required),type:new a.b(1,a.o.required),tac_number:new a.b("")}),this.verify_form=new a.d({user_id:new a.b(0,a.o.required),tac_number:new a.b("",a.o.required)}),this.lang="",this.province_list=[],this.sending=!1,this.resend={resending:!1,countdown:59},this.isMobile=!1}ngOnInit(){this.lang=this.translate.currentLang,this.INVITE_CODE_DIRECT=this.route.snapshot.queryParamMap.get("invite"),this.translate.onLangChange.subscribe(e=>{this.lang=e.lang}),this.form.patchValue({invite_code:this.INVITE_CODE_DIRECT}),this.cService.getCountry().subscribe(e=>{e&&(this.country=e,-1==this.country.findIndex(e=>"Malaysia"==e.name)||this.form.patchValue({country:this.country[this.country.findIndex(e=>"Malaysia"==e.name)].id}),this.onChangeCountry(this.form.value.country))}),this.onResize()}showLangModal(){this.langModal={lang:null==Object(d.d)("language")?"en":Object(d.d)("language")}}onSendTac(){if(this.form.valid)this.sending=!0,this.mService.pRegister(this.form.value).subscribe(e=>{this.verify_form.patchValue({user_id:e.user_id});var n=setInterval(()=>{this.resend.countdown--,0==this.resend.countdown&&(clearInterval(n),this.resend.countdown=59,this.resend.resending=!0)},1e3)},e=>{this.sending=!1,this.popModal={title:"header.sign_up",type:1,subtitle:"error.sign_up",desc:[{content:e.error.message}],btn:{label:"button.try_again"}}});else{var e=Object(l.d)(this.form);this.popModal={title:"header.sign_up",type:1,subtitle:"error.sign_up",desc:e,btn:{label:"button.try_again"}}}}onChangeCountry(e){this.province_list=[],this.cService.getProvince(e).subscribe(e=>{0!=e.length?(this.province_list=e,this.form.patchValue({province:this.province_list[0].id})):this.form.patchValue({province:0})})}onResendTac(){this.mService.pResendTac({user_id:this.verify_form.value.user_id}).subscribe(e=>{this.resend.resending=!1;var n=setInterval(()=>{this.resend.countdown--,0==this.resend.countdown&&(clearInterval(n),this.resend.countdown=59,this.resend.resending=!0)},1e3)},e=>{this.popModal={title:"header.sign_up",type:1,subtitle:"error.sign_up",desc:[{content:e.error.message}],btn:{label:"button.try_again"}}})}signUp(){if(this.verify_form.patchValue(this.form.value),this.verify_form.valid)this.verifying=!0,this.mService.pVerifyTac(this.verify_form.value).subscribe(e=>{this.success=!0,this.verifying=!1,this.popModal={title:"header.sign_up",type:3,subtitle:"success.sign_up",desc:[],btn:{label:"button.confirm"}}},e=>{this.verifying=!1,this.popModal={title:"header.sign_up",type:1,subtitle:"error.sign_up",desc:[{content:e.error.message}],btn:{label:"button.try_again"}}});else{this.verifying=!1;var e=Object(l.d)(this.verify_form);this.popModal={title:"header.sign_up",type:1,subtitle:"error.sign_up",desc:e,btn:{label:"button.try_again"}}}}getCountryCode(e){if(null!=this.country)return"+"+this.country[this.country.findIndex(n=>n.id==e)].calling_code}onResize(){let e=window.innerWidth;this.isMobile=e<=768}scrollHandler(e){var n=this.getYPosition(e);const t=document.querySelector(".pre-login-header");this.isMobile&&n>20?(t.classList.remove("add_bg"),t.classList.add("add_bg")):t.classList.remove("add_bg")}getYPosition(e){return e.target.scrollTop}}return e.\u0275fac=function(n){return new(n||e)(o.Mb(b.a),o.Mb(g),o.Mb(f.e),o.Mb(r.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-sign-up"]],hostBindings:function(e,n){1&e&&o.bc("resize",function(e){return n.onResize(e)},!1,o.vc)("scroll",function(e){return n.scrollHandler(e)},!1,o.uc)},decls:107,vars:81,consts:[[1,"main-con","register-con"],[1,"pre-login-header","d-flex","align-items-center","justify-content-between"],[1,"",3,"routerLink"],[1,"back_arrow","icon-icon-05"],[1,"lang_btn"],["translate","",1,"lang",3,"click"],[1,"icon-icon-08"],[1,"main-title"],[1,"main-reminder"],[3,"formGroup"],[1,"form-header"],[1,"form-boxx"],["translate","",1,"label-xx"],[1,"inputbox-xx"],["formControlName","country",1,"cursor-pointer","text-dark",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"icon-icon-08","icon-dropdown"],[1,"form-boxx",3,"ngClass"],["formControlName","province",1,"cursor-pointer","text-dark"],["formControlName","fullname",3,"placeholder","readonly"],[1,"left"],["type","text","formControlName","phone_number",2,"padding-left","45px",3,"placeholder","readonly"],["formControlName","username",3,"placeholder","readonly"],["formControlName","invite_code",3,"readonly","placeholder"],["formControlName","password",3,"placeholder","type","readonly"],[1,"view-password-box",3,"ngClass","click"],["formControlName","security_pin",3,"placeholder","type","readonly"],["formControlName","email",3,"placeholder","readonly"],[1,"right_text"],["style","cursor: pointer; text-decoration: underline;",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["formControlName","tac_number",3,"placeholder","readonly"],[1,"text-center"],[4,"ngIf"],["id","submit_btn","class","btn-main","translate","",3,"click",4,"ngIf"],[1,"login_acc"],["translate",""],["translate","",3,"routerLink"],[3,"modal","confirm","close"],[3,"value"],[2,"cursor","pointer","text-decoration","underline",3,"click"],[3,"ngClass","click"],["class","countdown",4,"ngIf"],[1,"countdown"],["id","submit_btn","translate","",1,"btn-main",3,"click"]],template:function(e,n){1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"a",2),o.Nb(3,"i",3),o.Qb(),o.Rb(4,"div",4),o.Rb(5,"button",5),o.bc("click",function(){return n.showLangModal()}),o.Ec(6," button.lang_value "),o.Qb(),o.Nb(7,"i",6),o.Qb(),o.Qb(),o.Rb(8,"div",7),o.Ec(9),o.fc(10,"translate"),o.Qb(),o.Rb(11,"div",8),o.Ec(12),o.fc(13,"translate"),o.Qb(),o.Rb(14,"form",9),o.Rb(15,"div",10),o.Ec(16),o.fc(17,"translate"),o.Qb(),o.Rb(18,"div",11),o.Rb(19,"span",12),o.Ec(20,"field.country"),o.Qb(),o.Rb(21,"div",13),o.Rb(22,"select",14),o.bc("change",function(){return n.onChangeCountry(n.form.value.country)}),o.Cc(23,y,2,2,"option",15),o.Qb(),o.Nb(24,"div",16),o.Qb(),o.Qb(),o.Rb(25,"div",17),o.Rb(26,"span",12),o.Ec(27,"field.province"),o.Qb(),o.Rb(28,"div",13),o.Rb(29,"select",18),o.Cc(30,_,2,2,"option",15),o.Qb(),o.Nb(31,"div",16),o.Qb(),o.Qb(),o.Rb(32,"div",11),o.Rb(33,"span",12),o.Ec(34,"field.fullname"),o.Qb(),o.Rb(35,"div",13),o.Nb(36,"input",19),o.fc(37,"translate"),o.Qb(),o.Qb(),o.Rb(38,"div",11),o.Rb(39,"span",12),o.Ec(40,"field.phone_no"),o.Qb(),o.Rb(41,"div",13),o.Rb(42,"span",20),o.Ec(43),o.Qb(),o.Nb(44,"input",21),o.fc(45,"translate"),o.Qb(),o.Qb(),o.Rb(46,"div",11),o.Rb(47,"span",12),o.Ec(48,"field.name"),o.Qb(),o.Rb(49,"div",13),o.Nb(50,"input",22),o.fc(51,"translate"),o.Qb(),o.Qb(),o.Rb(52,"div",10),o.Ec(53),o.fc(54,"translate"),o.Qb(),o.Rb(55,"div",11),o.Rb(56,"span",12),o.Ec(57,"field.invite_code"),o.Qb(),o.Rb(58,"div",13),o.Nb(59,"input",23),o.fc(60,"translate"),o.Qb(),o.Qb(),o.Rb(61,"div",10),o.Ec(62),o.fc(63,"translate"),o.Qb(),o.Rb(64,"div",11),o.Rb(65,"span",12),o.Ec(66,"field.password"),o.Qb(),o.Rb(67,"div",13),o.Nb(68,"input",24),o.fc(69,"translate"),o.Rb(70,"span",25),o.bc("click",function(){return n.isPasswordHide=!n.isPasswordHide}),o.Qb(),o.Qb(),o.Qb(),o.Rb(71,"div",11),o.Rb(72,"span",12),o.Ec(73,"field.security_pin"),o.Qb(),o.Rb(74,"div",13),o.Nb(75,"input",26),o.fc(76,"translate"),o.Rb(77,"span",25),o.bc("click",function(){return n.isSecurityHide=!n.isSecurityHide}),o.Qb(),o.Qb(),o.Qb(),o.Rb(78,"div",10),o.Ec(79),o.fc(80,"translate"),o.Qb(),o.Rb(81,"div",11),o.Rb(82,"span",12),o.Ec(83,"field.email"),o.Qb(),o.Rb(84,"div",13),o.Nb(85,"input",27),o.fc(86,"translate"),o.Rb(87,"span",28),o.Cc(88,R,3,3,"span",29),o.Cc(89,C,4,7,"span",30),o.Qb(),o.Qb(),o.Qb(),o.Rb(90,"div",11),o.Rb(91,"span",12),o.Ec(92,"field.verify_code"),o.Qb(),o.Rb(93,"div",13),o.Nb(94,"input",31),o.fc(95,"translate"),o.Qb(),o.Qb(),o.Rb(96,"div",32),o.Cc(97,k,1,0,"app-dot-loading",33),o.Cc(98,x,2,0,"button",34),o.Qb(),o.Rb(99,"div",35),o.Rb(100,"span",36),o.Ec(101," lang.i_have_acc"),o.Qb(),o.Ec(102,"\xa0 "),o.Rb(103,"a",37),o.Ec(104,"button.login_now"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(105,"app-lang-modal",38),o.bc("confirm",function(){return n.langModal=void 0})("close",function(){return n.langModal=void 0}),o.Qb(),o.Rb(106,"app-pop-out",38),o.bc("confirm",function(){return n.popModal=void 0})("close",function(){return n.popModal=void 0}),o.Qb()),2&e&&(o.zb(2),o.kc("routerLink",o.oc(71,z)),o.zb(7),o.Gc(" ",o.gc(10,43,"header.register")," "),o.zb(3),o.Gc(" ",o.gc(13,45,"lang.register_reminder")," "),o.zb(2),o.kc("formGroup",n.form),o.zb(2),o.Gc(" ",o.gc(17,47,"header.personal-details")," "),o.zb(6),o.Bc("pointer-events",n.sending?"none":"unset"),o.zb(1),o.kc("ngForOf",n.country),o.zb(2),o.kc("ngClass",o.pc(72,E,0==n.province_list.length)),o.zb(4),o.Bc("pointer-events",n.sending?"none":"unset"),o.zb(1),o.kc("ngForOf",n.province_list),o.zb(6),o.kc("placeholder",o.gc(37,49,"placeholder.type_fullname"))("readonly",n.sending),o.zb(7),o.Gc(" ",n.getCountryCode(n.form.value.country)," "),o.zb(1),o.kc("placeholder",o.gc(45,51,"placeholder.type_phone_no"))("readonly",n.sending),o.zb(6),o.kc("placeholder",o.gc(51,53,"placeholder.type_username"))("readonly",n.sending),o.zb(3),o.Gc(" ",o.gc(54,55,"header.invitation")," "),o.zb(6),o.kc("readonly",null!=n.INVITE_CODE_DIRECT||null!=n.INVITE_CODE_DIRECT||n.sending)("placeholder",o.gc(60,57,"placeholder.type_invitation")),o.zb(3),o.Gc(" ",o.gc(63,59,"header.security")," "),o.zb(6),o.kc("placeholder",o.gc(69,61,"placeholder.type_password"))("type",n.isPasswordHide?"password":"text")("readonly",n.sending),o.zb(2),o.kc("ngClass",o.qc(74,M,n.isPasswordHide,!n.isPasswordHide)),o.zb(5),o.kc("placeholder",o.gc(76,63,"placeholder.type_security_pin"))("type",n.isSecurityHide?"password":"text")("readonly",n.sending),o.zb(2),o.kc("ngClass",o.qc(77,M,n.isSecurityHide,!n.isSecurityHide)),o.zb(2),o.Gc(" ",o.gc(80,65,"header.verification")," "),o.zb(6),o.kc("placeholder",o.gc(86,67,"placeholder.type_email"))("readonly",n.sending),o.zb(3),o.kc("ngIf",!n.sending),o.zb(1),o.kc("ngIf",n.sending&&!n.verifying),o.zb(5),o.kc("placeholder",o.gc(95,69,"placeholder.type_verify_code"))("readonly",n.verifying),o.zb(3),o.kc("ngIf",n.verifying),o.zb(1),o.kc("ngIf",!n.verifying),o.zb(5),o.kc("routerLink",o.oc(80,z)),o.zb(2),o.kc("modal",n.langModal),o.zb(1),o.kc("modal",n.popModal))},directives:[r.f,f.a,a.p,a.j,a.e,a.n,a.i,a.c,i.l,i.k,a.a,i.m,h.a,m.a,a.k,a.q,v.a],pipes:[f.d],styles:[".main-con.register-con[_ngcontent-%COMP%]{padding:95px 15% 100px}.login_acc[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#00178a}.login_acc[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-weight:700}.form-boxx.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}@media screen and (max-width:768px){.main-con.register-con[_ngcontent-%COMP%]{padding:75px 20px 100px}.pre-login-header.add_bg[_ngcontent-%COMP%]{width:100%;padding:30px 20px 24px;margin:0 -20px!important;background-color:#fff;box-shadow:0 2px 15px -2px rgba(0,0,0,.3)}}"]}),e})()},{path:"otp",component:c}]}];let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({imports:[[r.g.forChild(I)],r.g]}),e})();var O=t("7PmN");let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({imports:[[i.b,N,f.c,a.f,a.m,O.a]]}),e})()}}]);